<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智慧食譜助手</title>
    <style>
        /* CSS 樣式保持不變，與之前提供的一致 */
        body {
            font-family: "Microsoft JhengHei", "PingFang TC", sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0; /* 淺灰色背景 */
            color: #333; /* 深灰色文字 */
            line-height: 1.6;
        }
        h1, h2, h3 {
            color: #0056b3; /* 標題藍色 */
            text-align: center;
            font-size: 2.5em; /* 大字體 */
            margin-bottom: 20px;
        }
        button {
            display: block;
            width: 80%;
            max-width: 400px;
            margin: 20px auto;
            padding: 20px 30px;
            font-size: 1.8em; /* 大按鈕文字 */
            background-color: #28a745; /* 綠色按鈕 */
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #218838;
        }
        .container {
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
        }
        .section {
            display: none; /* 預設隱藏，透過 JS 顯示 */
            padding: 20px 0;
        }
        .section.active {
            display: block; /* 顯示當前活躍的區塊 */
        }

        /* 掃描介面樣式 */
        #scan-area {
            min-height: 250px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
            padding: 20px;
            margin-bottom: 20px;
            font-size: 1.5em;
            color: #666;
            position: relative; /* 用於定位攝像頭影像 */
            overflow: hidden; /* 防止攝像頭影像溢出 */
            background-color: #e9ecef; /* 掃描區域背景 */
            border-radius: 10px;
        }
        #scan-area video {
            width: 100%;
            height: 100%;
            object-fit: cover; /* 填充整個區域，可能裁剪 */
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1; /* 確保在引導文字下方 */
            border-radius: 10px;
        }
        #scan-area .overlay-text {
            position: relative; /* 確保文字在攝像頭上方 */
            z-index: 2;
            background-color: rgba(255, 255, 255, 0.7); /* 半透明背景，讓文字更清晰 */
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: bold;
            color: #333;
        }

        #scan-area .icon {
            font-size: 4em; /* 大圖示 */
            margin-bottom: 10px;
        }
        #identified-ingredients {
            margin-top: 20px;
            font-size: 1.4em;
            text-align: center;
            color: #0056b3;
            font-weight: bold;
        }
        .ingredient-input-group {
            margin-top: 30px;
            text-align: center;
        }
        .ingredient-input-group label {
            font-size: 1.5em;
            margin-bottom: 10px;
            display: block;
        }
        .ingredient-input-group input[type="text"] {
            width: 70%;
            padding: 15px;
            font-size: 1.3em;
            border: 1px solid #ccc;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        .ingredient-tags {
            margin-top: 15px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .ingredient-tag {
            background-color: #e9ecef;
            border: 1px solid #ced4da;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 20px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .ingredient-tag:hover {
            background-color: #d1d8df;
        }


        /* 食譜列表樣式 */
        .recipe-list {
            display: grid;
            gap: 25px;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }
        .recipe-card {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s ease-in-out;
        }
        .recipe-card:hover {
            transform: translateY(-5px);
        }
        .recipe-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 1px solid #ddd;
        }
        .recipe-card-content {
            padding: 15px;
        }
        .recipe-card h3 {
            font-size: 1.6em;
            margin-top: 0;
            margin-bottom: 10px;
            color: #333;
            text-align: left;
        }
        .recipe-card p {
            font-size: 1.1em;
            color: #555;
            margin-bottom: 5px;
        }
        .recipe-card .tags span {
            display: inline-block;
            background-color: #e0f7fa;
            color: #00796b;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
            margin-right: 5px;
            margin-bottom: 5px;
        }

        /* 食譜步驟樣式 */
        #recipe-title-display {
            font-size: 2.2em;
            text-align: center;
            color: #0056b3;
            margin-bottom: 30px;
        }
        .recipe-info {
            font-size: 1.3em;
            line-height: 1.8;
            margin-bottom: 20px;
        }
        .recipe-info p strong {
            color: #666;
        }

        .recipe-step {
            background-color: #f9f9f9;
            border: 1px solid #eee;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .step-number {
            font-size: 2em;
            font-weight: bold;
            color: #e67e22; /* 橙色數字 */
            margin-bottom: 15px;
            text-align: center;
        }
        .step-image img {
            width: 100%;
            height: auto;
            max-height: 300px;
            object-fit: contain; /* 圖片完整顯示 */
            display: block;
            margin: 0 auto 20px auto;
            border-radius: 8px;
        }
        .step-text {
            font-size: 1.8em; /* 烹飪步驟大字體 */
            color: #333;
            text-align: center;
        }
        .step-timer {
            font-size: 1.5em;
            color: #c0392b; /* 紅色計時器 */
            font-weight: bold;
            text-align: center;
            margin-top: 15px;
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-around;
            margin-top: 30px;
        }
        .navigation-buttons button {
            width: 45%;
            margin: 0;
        }
        .nav-back { background-color: #6c757d; }
        .nav-back:hover { background-color: #5a6268; }
        .nav-next { background-color: #007bff; }
        .nav-next:hover { background-color: #0056b3; }

        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: #007bff;
            color: white;
            font-size: 1.5em;
        }
        .top-nav button {
            background: none;
            border: none;
            color: white;
            font-size: 1.8em;
            cursor: pointer;
            margin: 0;
            padding: 0 10px;
            width: auto;
            max-width: none;
            box-shadow: none;
        }
        .top-nav button:hover {
            opacity: 0.8;
        }
        .top-nav .title {
            flex-grow: 1;
            text-align: center;
        }

        /* 收藏和購物清單按鈕 */
        .bottom-actions {
            display: flex;
            justify-content: space-around;
            padding: 20px;
            background-color: #f8f9fa;
            border-top: 1px solid #eee;
        }
        .bottom-actions button {
            width: 48%;
            margin: 0;
            padding: 15px;
            font-size: 1.5em;
        }
        .favorite-btn { background-color: #ffc107; color: #333;}
        .favorite-btn:hover { background-color: #e0a800;}
        .shopping-btn { background-color: #17a2b8; }
        .shopping-btn:hover { background-color: #138496; }

        /* 確認識別結果彈窗 */
        #recognition-modal {
            display: none; /* 預設隱藏 */
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4); /* 半透明黑色背景 */
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 30px;
            border-radius: 15px;
            width: 80%;
            max-width: 500px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            text-align: center;
        }
        .modal-content h3 {
            font-size: 1.8em;
            color: #0056b3;
            margin-bottom: 20px;
        }
        .modal-content .recognized-items {
            font-size: 1.5em;
            color: #333;
            margin-bottom: 25px;
            font-weight: bold;
        }
        .modal-content .modal-buttons button {
            display: inline-block;
            width: 45%;
            margin: 0 5px;
            padding: 15px 25px;
            font-size: 1.5em;
        }
        .modal-confirm-btn { background-color: #28a745; }
        .modal-confirm-btn:hover { background-color: #218838; }
        .modal-re-scan-btn { background-color: #ffc107; color: #333;}
        .modal-re-scan-btn:hover { background-color: #e0a800;}

    </style>
</head>
<body>

    <header class="top-nav" id="top-navbar" style="display: none;">
        <button onclick="goBack()">&lt;</button>
        <div class="title" id="nav-title">食譜名稱</div>
        <button onclick="toggleVoiceGuide()">🔊</button>
    </header>

    <main class="container">
        <section id="scan-page" class="section active">
            <h1>智慧食譜助手</h1>
            <button id="start-camera-btn">
                開啟攝像頭掃描
                <div class="icon">📸</div>
            </button>

            <div id="scan-area">
                <video id="camera-stream" autoplay playsinline style="display: none;"></video>
                <div class="overlay-text" id="scan-overlay-text">
                    <span class="icon">💡</span>
                    <p>請將食材對準鏡頭，然後點擊拍照</p>
                    <p>保持光線充足與影像清晰</p>
                </div>
            </div>
            <button id="take-photo-btn" style="display: none;">
                <div class="icon">📷</div>
                拍照識別食材
            </button>
            <canvas id="canvas" style="display: none;"></canvas> <div id="identified-ingredients" style="display: none;">
                <p>已識別食材：<span id="ingredients-display"></span></p>
                <button id="clear-identified-btn" style="background-color: #dc3545; margin-top: 10px; width: auto; padding: 10px 20px; font-size: 1.2em; max-width: none;">清空已識別食材</button>
            </div>

            <button id="confirm-ingredients-btn" style="display: none;">確認食材，尋找食譜</button>

            <div class="ingredient-input-group">
                <label for="manual-ingredient-input">手動輸入食材 (若掃描不便)</label>
                <input type="text" id="manual-ingredient-input" placeholder="例如：雞蛋、米飯">
                <button onclick="addManualIngredient()">加入食材</button>
            </div>

            <div class="ingredient-input-group">
                <label>或從常用食材中選擇：</label>
                <div class="ingredient-tags" id="common-ingredients-tags">
                    </div>
                <button id="find-recipes-manual-btn">查找食譜</button>
            </div>
        </section>

        <section id="recipe-list-page" class="section">
            <h2>推薦食譜</h2>
            <div class="recipe-list" id="recipes-container">
                </div>
        </section>

        <section id="recipe-detail-page" class="section">
            <h2 id="recipe-title-display"></h2>
            <div class="recipe-info">
                <p><strong>所需食材：</strong><span id="recipe-ingredients-display"></span></p>
                <p><strong>烹飪難度：</strong><span id="recipe-difficulty-display"></span></p>
                <p><strong>預計時間：</strong><span id="recipe-time-display"></span></p>
                <p><strong>健康提示：</strong><span id="recipe-health-display"></span></p>
                <p><strong>簡介：</strong><span id="recipe-intro-display"></span></p>
            </div>
            <hr>
            <h3>烹飪步驟</h3>
            <div id="recipe-steps-container">
                </div>

            <div class="navigation-buttons">
                <button class="nav-back" onclick="prevStep()">上一步</button>
                <button class="nav-next" onclick="nextStep()">下一步</button>
            </div>

            <div class="bottom-actions">
                <button class="favorite-btn" onclick="addToFavorites()">⭐ 加入最愛</button>
                <button class="shopping-btn" onclick="generateShoppingList()">🛒 產生購物清單</button>
            </div>
        </section>
    </main>

    <div id="recognition-modal">
        <div class="modal-content">
            <h3>Gemini 識別結果</h3>
            <p class="recognized-items">您掃描到了：<span id="modal-recognized-ingredients"></span></p>
            <div class="modal-buttons">
                <button class="modal-confirm-btn" onclick="confirmRecognition()">確認</button>
                <button class="modal-re-scan-btn" onclick="hideRecognitionModal()">重新掃描/修改</button>
            </div>
        </div>
    </div>


    <script>
        // JavaScript 用於控制頁面顯示邏輯、數據處理和互動

        // 當前顯示的頁面
        let currentPage = 'scan-page';
        // 當前選中的食譜
        let currentRecipe = null;
        // 當前食譜的步驟
        let currentRecipeSteps = [];
        // 當前烹飪步驟索引
        let currentStepIndex = 0;
        // 語音導覽開關
        let voiceGuideEnabled = false;

        let videoStream = null; // 用於儲存攝像頭串流

        // 模擬數據庫 (實際會從後端獲取)
        const mockRecipes = [
            {
                name: '滷水拼盤',
                keyIngredients: ['豬肉', '豬耳', '豬腸', '雞蛋', '豆乾', '滷水汁'],
                ingredients: ['豬肉', '豬耳', '豬腸', '雞蛋', '豆乾', '滷水汁'],
                difficulty: '中級', time: '120分鐘', health: '蛋白質豐富', intro: '多種食材滷製而成，風味濃郁，是下酒好菜。', image: 'https://via.placeholder.com/300x200?text=滷水拼盤',
                steps: [
                    { number: 1, text: '將豬肉、豬耳、豬腸洗淨焯水。雞蛋煮熟剝殼，豆乾切塊。', image: 'https://via.placeholder.com/400x300?text=準備滷水食材', timer: null },
                    { number: 2, text: '鍋中加入滷水汁，放入所有食材，大火煮開轉小火滷煮至少1小時，讓食材充分入味。', image: 'https://via.placeholder.com/400x300?text=滷煮', timer: '60分鐘' },
                    { number: 3, text: '關火後讓食材在滷汁中浸泡更長時間，上桌前切片擺盤即可。', image: 'https://via.placeholder.com/400x300?text=擺盤', timer: null }
                ]
            },
            {
                name: '涼拌茄子',
                keyIngredients: ['茄子', '蒜', '醬油', '醋'],
                ingredients: ['茄子', '蒜', '醬油', '醋', '麻油', '香菜'],
                difficulty: '初級', time: '20分鐘', health: '清爽、易消化', intro: '清涼開胃的夏季小菜，茄子軟糯，蒜香濃郁。', image: 'https://via.placeholder.com/300x200?text=涼拌茄子',
                steps: [
                    { number: 1, text: '茄子洗淨切成長條狀，蒸熟或煮熟。', image: 'https://via.placeholder.com/400x300?text=蒸茄子', timer: '10分鐘' },
                    { number: 2, text: '將蒜末、醬油、醋、麻油、少許糖和鹽混合成醬汁。', image: 'https://via.placeholder.com/400x300?text=調醬汁', timer: null },
                    { number: 3, text: '蒸好的茄子放涼後，淋上調好的醬汁，撒上香菜即可。', image: 'https://via.placeholder.com/400x300?text=涼拌', timer: null }
                ]
            },
            {
                name: '涼拌黃瓜',
                keyIngredients: ['黃瓜', '蒜', '醋'],
                ingredients: ['黃瓜', '蒜', '醋', '麻油', '辣椒'],
                difficulty: '初級', time: '15分鐘', health: '清脆、低卡', intro: '簡單開胃的家常小菜，黃瓜清爽，酸辣可口。', image: 'https://via.placeholder.com/300x200?text=涼拌黃瓜',
                steps: [
                    { number: 1, text: '黃瓜洗淨拍碎或切片，用少許鹽醃製10分鐘出水。', image: 'https://via.placeholder.com/400x300?text=拍黃瓜', timer: '10分鐘' },
                    { number: 2, text: '蒜末、醋、醬油、麻油和少許糖混合成醬汁。', image: 'https://via.placeholder.com/400x300?text=調醬', timer: null },
                    { number: 3, text: '將黃瓜瀝乾水分，淋上醬汁，拌勻即可。', image: 'https://via.placeholder.com/400x300?text=拌勻', timer: null }
                ]
            },
            {
                name: '蒜蓉炒菠菜',
                keyIngredients: ['菠菜', '蒜'],
                ingredients: ['菠菜', '蒜', '鹽'],
                difficulty: '初級', time: '10分鐘', health: '高纖維', intro: '簡單快速的家常素菜，菠菜清甜，蒜香濃郁。', image: 'https://via.placeholder.com/300x200?text=蒜蓉炒菠菜',
                steps: [
                    { number: 1, text: '菠菜洗淨瀝乾，切段。蒜切末。', image: 'https://via.placeholder.com/400x300?text=準備菠菜', timer: null },
                    { number: 2, text: '鍋中放油燒熱，放入蒜末爆香。', image: 'https://via.placeholder.com/400x300?text=爆香蒜', timer: null },
                    { number: 3, text: '倒入菠菜大火快速翻炒至軟身，加鹽調味即可。', image: 'https://via.placeholder.com/400x300?text=炒菠菜', timer: null }
                ]
            },
            {
                name: '清炒小白菜',
                keyIngredients: ['小白菜', '蒜'],
                ingredients: ['小白菜', '蒜', '鹽'],
                difficulty: '初級', time: '10分鐘', health: '高纖維', intro: '清淡爽口，保留小白菜的原味。', image: 'https://via.placeholder.com/300x200?text=清炒小白菜',
                steps: [
                    { number: 1, text: '小白菜洗淨切段，蒜切末。', image: 'https://via.placeholder.com/400x300?text=準備小白菜', timer: null },
                    { number: 2, text: '鍋中放油燒熱，放入蒜末爆香。', image: 'https://via.placeholder.com/400x300?text=爆香蒜', timer: null },
                    { number: 3, text: '倒入小白菜大火快速翻炒至軟身，加鹽調味即可。', image: 'https://via.placeholder.com/400x300?text=炒小白菜', timer: null }
                ]
            },
            {
                name: '醋溜土豆絲',
                keyIngredients: ['土豆', '醋', '蒜'],
                ingredients: ['土豆', '醋', '蒜', '辣椒', '花椒'],
                difficulty: '中級', time: '20分鐘', health: '開胃', intro: '酸辣爽脆，非常下飯的家常菜。', image: 'https://via.placeholder.com/300x200?text=醋溜土豆絲',
                steps: [
                    { number: 1, text: '土豆去皮切細絲，用清水沖洗數遍去除澱粉，瀝乾。', image: 'https://via.placeholder.com/400x300?text=切土豆絲', timer: null },
                    { number: 2, text: '鍋中放油燒熱，放入蒜末、乾辣椒、花椒爆香。', image: 'https://via.placeholder.com/400x300?text=爆香', timer: null },
                    { number: 3, text: '倒入土豆絲大火快速翻炒，加入醋、鹽、糖調味，炒至土豆絲熟透變脆即可。', image: 'https://via.placeholder.com/400x300?text=炒土豆絲', timer: null }
                ]
            },
            {
                name: '番茄炒蛋',
                keyIngredients: ['番茄', '雞蛋'],
                ingredients: ['番茄', '雞蛋', '蔥', '鹽', '糖'],
                difficulty: '初級', time: '15分鐘', health: '高纖易消化、素食', intro: '經典家常菜，番茄的酸甜與雞蛋的滑嫩完美結合。', image: 'https://via.placeholder.com/300x200?text=番茄炒蛋',
                steps: [
                    { number: 1, text: '番茄洗淨切塊，雞蛋打散加入少許鹽。', image: 'https://via.placeholder.com/400x300?text=準備番茄雞蛋', timer: null },
                    { number: 2, text: '鍋中放油燒熱，倒入蛋液快速炒熟，盛出備用。', image: 'https://via.placeholder.com/400x300?text=炒蛋', timer: null },
                    { number: 3, text: '鍋中再加少許油，放入番茄塊炒出汁，加入少許糖和鹽調味。', image: 'https://via.placeholder.com/400x300?text=炒番茄', timer: null },
                    { number: 4, text: '倒入炒好的雞蛋，快速翻炒均勻，撒上蔥花即可。', image: 'https://via.placeholder.com/400x300?text=番茄雞蛋合炒', timer: null }
                ]
            },
            {
                name: '蒜蓉炒空心菜',
                keyIngredients: ['空心菜', '蒜'],
                ingredients: ['空心菜', '蒜', '鹽'],
                difficulty: '初級', time: '10分鐘', health: '高纖維', intro: '夏季常見的快手菜，空心菜清脆爽口。', image: 'https://via.placeholder.com/300x200?text=蒜蓉炒空心菜',
                steps: [
                    { number: 1, text: '空心菜洗淨切段，蒜切末。', image: 'https://via.placeholder.com/400x300?text=準備空心菜', timer: null },
                    { number: 2, text: '鍋中放油燒熱，放入蒜末爆香。', image: 'https://via.placeholder.com/400x300?text=爆香蒜', timer: null },
                    { number: 3, text: '倒入空心菜大火快速翻炒至軟身，加鹽調味即可。', image: 'https://via.placeholder.com/400x300?text=炒空心菜', timer: null }
                ]
            },
            {
                name: '涼拌海帶絲',
                keyIngredients: ['海帶', '蒜', '醋'],
                ingredients: ['海帶', '蒜', '醋', '麻油', '辣椒'],
                difficulty: '初級', time: '20分鐘', health: '低卡、高碘', intro: '清爽開胃，營養豐富的海帶小菜。', image: 'https://via.placeholder.com/300x200?text=涼拌海帶絲',
                steps: [
                    { number: 1, text: '乾海帶提前泡發後洗淨切絲，煮熟後撈出放涼。', image: 'https://via.placeholder.com/400x300?text=處理海帶', timer: '10分鐘' },
                    { number: 2, text: '蒜末、醋、醬油、麻油、辣椒油混合成醬汁。', image: 'https://via.placeholder.com/400x300?text=調醬汁', timer: null },
                    { number: 3, text: '將海帶絲與醬汁拌勻即可。', image: 'https://via.placeholder.com/400x300?text=拌海帶絲', timer: null }
                ]
            },
            {
                name: '蚝油生菜',
                keyIngredients: ['生菜', '蚝油', '蒜'],
                ingredients: ['生菜', '蚝油', '蒜', '白糖'],
                difficulty: '初級', time: '10分鐘', health: '清淡、易消化', intro: '簡單快手，生菜清脆，蚝油提鮮。', image: 'https://via.placeholder.com/300x200?text=蚝油生菜',
                steps: [
                    { number: 1, text: '生菜洗淨瀝乾。蒜切末。', image: 'https://via.placeholder.com/400x300?text=準備生菜', timer: null },
                    { number: 2, text: '鍋中燒水，水開後放入生菜焯燙幾秒迅速撈出。', image: 'https://via.placeholder.com/400x300?text=焯生菜', timer: '1分鐘' },
                    { number: 3, text: '另起鍋，放油燒熱，爆香蒜末，加入蚝油、少許水和糖煮成醬汁。', image: 'https://via.placeholder.com/400x300?text=煮醬汁', timer: null },
                    { number: 4, text: '將焯好的生菜擺盤，淋上蚝油醬汁即可。', image: 'https://via.placeholder.com/400x300?text=淋醬', timer: null }
                ]
            },
            {
                name: '麻婆豆腐',
                keyIngredients: ['豆腐', '豬肉', '豆瓣醬', '花椒', '辣椒'],
                ingredients: ['豆腐', '豬肉', '豆瓣醬', '花椒', '辣椒', '蒜', '薑', '蔥'],
                difficulty: '中級', time: '25分鐘', health: '麻辣開胃', intro: '經典川菜，豆腐滑嫩，麻辣鮮香。', image: 'https://via.placeholder.com/300x200?text=麻婆豆腐',
                steps: [
                    { number: 1, text: '豆腐切小塊，用開水加少許鹽焯燙幾分鐘後撈出瀝乾。豬肉剁成肉末。', image: 'https://via.placeholder.com/400x300?text=準備豆腐肉末', timer: '5分鐘' },
                    { number: 2, text: '鍋中放油，炒香肉末，加入豆瓣醬炒出紅油，再加入蒜末、薑末、辣椒粉、花椒粉炒香。', image: 'https://via.placeholder.com/400x300?text=炒肉末醬料', timer: null },
                    { number: 3, text: '加入適量高湯或水，放入豆腐煮開，小火慢煮幾分鐘讓豆腐入味。', image: 'https://via.placeholder.com/400x300?text=煮豆腐', timer: '5分鐘' },
                    { number: 4, text: '勾芡，撒上蔥花即可。', image: 'https://via.placeholder.com/400x300?text=勾芡', timer: null }
                ]
            },
            {
                name: '豆豉鯪魚油麥菜',
                keyIngredients: ['油麥菜', '豆豉鯪魚罐頭'],
                ingredients: ['油麥菜', '豆豉鯪魚罐頭', '蒜'],
                difficulty: '初級', time: '15分鐘', health: '方便快捷', intro: '香港家常菜，豆豉鯪魚的鹹香與油麥菜的清甜結合。', image: 'https://via.placeholder.com/300x200?text=豆豉鯪魚油麥菜',
                steps: [
                    { number: 1, text: '油麥菜洗淨切段。打開豆豉鯪魚罐頭，魚肉輕輕分開。', image: 'https://via.placeholder.com/400x300?text=準備食材', timer: null },
                    { number: 2, text: '鍋中放少許罐頭裡的油燒熱，爆香蒜末。', image: 'https://via.placeholder.com/400x300?text=爆香', timer: null },
                    { number: 3, text: '倒入油麥菜大火快速翻炒，加入豆豉和部分鯪魚肉，炒至油麥菜變軟即可。', image: 'https://via.placeholder.com/400x300?text=快炒', timer: null }
                ]
            },
            {
                name: '蒜蓉蒸茄子',
                keyIngredients: ['茄子', '蒜', '醬油'],
                ingredients: ['茄子', '蒜', '醬油', '麻油', '蔥花'],
                difficulty: '初級', time: '20分鐘', health: '清蒸、健康', intro: '蒜香四溢，茄子軟糯，原汁原味。', image: 'https://via.placeholder.com/300x200?text=蒜蓉蒸茄子',
                steps: [
                    { number: 1, text: '茄子洗淨切成長條，鋪在盤中。蒜切末。', image: 'https://via.placeholder.com/400x300?text=準備茄子', timer: null },
                    { number: 2, text: '將茄子放入蒸鍋中，大火蒸約10-15分鐘至軟爛。', image: 'https://via.placeholder.com/400x300?text=蒸茄子', timer: '15分鐘' },
                    { number: 3, text: '蒸茄子時，將蒜末、醬油、麻油混合成醬汁。', image: 'https://via.placeholder.com/400x300?text=調醬汁', timer: null },
                    { number: 4, text: '蒸好的茄子取出，淋上醬汁，撒上蔥花即可。', image: 'https://via.placeholder.com/400x300?text=淋醬', timer: null }
                ]
            },
            {
                name: '涼拌豆芽',
                keyIngredients: ['豆芽', '蒜', '醋'],
                ingredients: ['豆芽', '蒜', '醋', '麻油', '辣椒'],
                difficulty: '初級', time: '15分鐘', health: '清脆、低卡', intro: '簡單清爽的開胃小菜。', image: 'https://via.placeholder.com/300x200?text=涼拌豆芽',
                steps: [
                    { number: 1, text: '豆芽洗淨，放入滾水中焯燙2-3分鐘後迅速撈出，用冷水沖涼瀝乾。', image: 'https://via.placeholder.com/400x300?text=焯豆芽', timer: '3分鐘' },
                    { number: 2, text: '蒜末、醋、醬油、麻油、少許糖和鹽混合成醬汁。', image: 'https://via.placeholder.com/400x300?text=調醬汁', timer: null },
                    { number: 3, text: '將豆芽與醬汁拌勻即可。', image: 'https://via.placeholder.com/400x300?text=拌豆芽', timer: null }
                ]
            },
            {
                name: '韭菜炒蛋',
                keyIngredients: ['韭菜', '雞蛋'],
                ingredients: ['韭菜', '雞蛋', '鹽'],
                difficulty: '初級', time: '15分鐘', health: '家常', intro: '簡單美味的家常菜，韭菜的香氣與雞蛋的鮮嫩結合。', image: 'https://via.placeholder.com/300x200?text=韭菜炒蛋',
                steps: [
                    { number: 1, text: '韭菜洗淨切段。雞蛋打散，加入少許鹽。', image: 'https://via.placeholder.com/400x300?text=準備韭菜雞蛋', timer: null },
                    { number: 2, text: '鍋中放油燒熱，倒入蛋液炒熟盛出。', image: 'https://via.placeholder.com/400x300?text=炒蛋', timer: null },
                    { number: 3, text: '鍋中再加少許油，放入韭菜段快速翻炒至斷生，倒入炒好的雞蛋，加鹽調味即可。', image: 'https://via.placeholder.com/400x300?text=炒韭菜蛋', timer: null }
                ]
            },
             {
                name: '苦瓜炒蛋',
                keyIngredients: ['苦瓜', '雞蛋'],
                ingredients: ['苦瓜', '雞蛋', '蒜', '鹽'],
                difficulty: '初級', time: '15分鐘', health: '清熱解毒', intro: '清熱解毒的家常菜，苦瓜的清苦與雞蛋的滑嫩形成對比。', image: 'https://via.placeholder.com/300x200?text=苦瓜炒蛋',
                steps: [
                    { number: 1, text: '苦瓜去籽切薄片，用鹽抓勻後靜置10分鐘出水，再沖洗乾淨減少苦味。雞蛋打散。', image: 'https://via.placeholder.com/400x300?text=處理苦瓜', timer: '10分鐘' },
                    { number: 2, text: '鍋中放油，先炒熟雞蛋盛出。', image: 'https://via.placeholder.com/400x300?text=炒蛋', timer: null },
                    { number: 3, text: '另起鍋，爆香蒜末，放入苦瓜片翻炒至斷生，加入炒好的雞蛋，加鹽調味即可。', image: 'https://via.placeholder.com/400x300?text=炒苦瓜蛋', timer: null }
                ]
            },
            {
                name: '苦瓜炒肉',
                keyIngredients: ['苦瓜', '豬肉'],
                ingredients: ['苦瓜', '豬肉', '蒜', '醬油'],
                difficulty: '中級', time: '20分鐘', health: '清熱解毒', intro: '苦瓜清脆，肉片鮮香，味道豐富。', image: 'https://via.placeholder.com/300x200?text=苦瓜炒肉',
                steps: [
                    { number: 1, text: '苦瓜去籽切薄片，用鹽抓勻後靜置10分鐘出水，再沖洗乾淨。豬肉切片。', image: 'https://via.placeholder.com/400x300?text=準備食材', timer: '10分鐘' },
                    { number: 2, text: '鍋中放油，放入豬肉片炒至變色，加入蒜末爆香。', image: 'https://via.placeholder.com/400x300?text=炒肉', timer: null },
                    { number: 3, text: '倒入苦瓜片大火翻炒，加入醬油、鹽調味，炒至苦瓜斷生即可。', image: 'https://via.placeholder.com/400x300?text=炒苦瓜', timer: null }
                ]
            },
            {
                name: '蒜蓉蒸絲瓜',
                keyIngredients: ['絲瓜', '蒜'],
                ingredients: ['絲瓜', '蒜', '醬油', '麻油', '蔥花'],
                difficulty: '初級', time: '15分鐘', health: '清甜、易消化', intro: '絲瓜清甜軟糯，搭配蒜蓉香氣。', image: 'https://via.placeholder.com/300x200?text=蒜蓉蒸絲瓜',
                steps: [
                    { number: 1, text: '絲瓜去皮切滾刀塊，鋪在盤中。蒜切末。', image: 'https://via.placeholder.com/400x300?text=準備絲瓜', timer: null },
                    { number: 2, text: '將蒜末、醬油、麻油混合成醬汁，淋在絲瓜上。', image: 'https://via.placeholder.com/400x300?text=淋醬汁', timer: null },
                    { number: 3, text: '放入蒸鍋，大火蒸8-10分鐘至絲瓜變軟。', image: 'https://via.placeholder.com/400x300?text=蒸絲瓜', timer: '10分鐘' },
                    { number: 4, text: '取出後撒上蔥花即可。', image: 'https://via.placeholder.com/400x300?text=完成', timer: null }
                ]
            },
            {
                name: '上湯娃娃菜',
                keyIngredients: ['娃娃菜', '高湯', '蒜'],
                ingredients: ['娃娃菜', '高湯', '蒜', '枸杞'],
                difficulty: '初級', time: '20分鐘', health: '清淡滋補', intro: '清甜的娃娃菜，吸收高湯精華，溫暖養胃。', image: 'https://via.placeholder.com/300x200?text=上湯娃娃菜',
                steps: [
                    { number: 1, text: '娃娃菜洗淨對半切開或切段。蒜切末。', image: 'https://via.placeholder.com/400x300?text=準備娃娃菜', timer: null },
                    { number: 2, text: '鍋中放少許油，爆香蒜末。', image: 'https://via.placeholder.com/400x300?text=爆香蒜', timer: null },
                    { number: 3, text: '加入高湯煮開，放入娃娃菜煮至軟爛，加鹽調味，撒上枸杞即可。', image: 'https://via.placeholder.com/400x300?text=煮娃娃菜', timer: '10分鐘' }
                ]
            },
            {
                name: '魚香茄子',
                keyIngredients: ['茄子', '豬肉', '蒜', '薑', '豆瓣醬', '醋', '糖'],
                ingredients: ['茄子', '豬肉', '蒜', '薑', '豆瓣醬', '醋', '糖', '蔥花', '醬油'],
                difficulty: '中級', time: '30分鐘', health: '開胃下飯', intro: '茄子軟糯入味，魚香味濃郁，非常下飯。', image: 'https://via.placeholder.com/300x200?text=魚香茄子',
                steps: [
                    { number: 1, text: '茄子洗淨切條，用鹽水浸泡10分鐘後瀝乾。豬肉剁成肉末。', image: 'https://via.placeholder.com/400x300?text=準備食材', timer: '10分鐘' },
                    { number: 2, text: '碗中調好魚香汁：醬油、醋、糖、澱粉、水混合均勻。', image: 'https://via.placeholder.com/400x300?text=調魚香汁', timer: null },
                    { number: 3, text: '鍋中放油燒熱，放入茄子炸軟或煸炒軟身，盛出。', image: 'https://via.placeholder.com/400x300?text=處理茄子', timer: null },
                    { number: 4, text: '鍋中留底油，炒香肉末，加入蒜末、薑末、豆瓣醬炒出紅油。', image: 'https://via.placeholder.com/400x300?text=炒肉末醬料', timer: null },
                    { number: 5, text: '倒入茄子，淋入魚香汁，快速翻炒均勻，收汁後撒上蔥花即可。', image: 'https://via.placeholder.com/400x300?text=燴茄子', timer: null }
                ]
            },
            {
                name: '乾煸四季豆',
                keyIngredients: ['四季豆', '豬肉', '蒜', '辣椒'],
                ingredients: ['四季豆', '豬肉', '蒜', '辣椒', '花椒', '醬油'],
                difficulty: '中級', time: '25分鐘', health: '香辣開胃', intro: '四季豆乾香，肉末香辣，口感豐富。', image: 'https://via.placeholder.com/300x200?text=乾煸四季豆',
                steps: [
                    { number: 1, text: '四季豆洗淨掐去兩頭，掰成小段。豬肉剁成肉末。', image: 'https://via.placeholder.com/400x300?text=準備四季豆', timer: null },
                    { number: 2, text: '鍋中多放些油，放入四季豆中小火煸炒至表皮起皺，盛出。', image: 'https://via.placeholder.com/400x300?text=煸四季豆', timer: null },
                    { number: 3, text: '鍋中留底油，放入肉末炒散，加入蒜末、乾辣椒、花椒炒香。', image: 'https://via.placeholder.com/400x300?text=炒肉末', timer: null },
                    { number: 4, text: '倒入煸好的四季豆，加醬油、鹽調味，快速翻炒均勻即可。', image: 'https://via.placeholder.com/400x300?text=合炒', timer: null }
                ]
            },
            {
                name: '青椒炒肉絲',
                keyIngredients: ['青椒', '豬肉'],
                ingredients: ['青
